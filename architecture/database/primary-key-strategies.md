# Primary Key Strategies

Choose the appropriate primary key type based on the model's purpose and requirements.

## Three Main Strategies

### 1. Custom String IDs (12 characters)

**Use for**: Application domain models that need readable, short IDs

```javascript
sequelize.define('Transactions', {
  id: {
    type: DataTypes.STRING(12),
    primaryKey: true,
    allowNull: false,
  },
  // ... other fields
}, {
  tableName: 'transactions',
});
```

**When to use**:
- Application domain entities (Transactions, Accounts, Orgs)
- IDs exposed in URLs or APIs
- Need fixed-length, readable identifiers
- Generated by custom ID generator (e.g., nanoid, shortid)

### 2. UUID (Universally Unique Identifier)

**Use for**: Auth-related models or when globally unique IDs are needed

```javascript
const crypto = require('crypto');

sequelize.define('Users', {
  id: {
    type: DataTypes.TEXT,
    primaryKey: true,
    defaultValue: () => crypto.randomUUID(),
  },
  // ... other fields
}, {
  schema: 'auth',
  tableName: 'users',
});
```

**When to use**:
- Authentication models (Users, Sessions)
- Distributed systems needing guaranteed uniqueness
- No custom ID generation logic
- Privacy concerns (harder to enumerate)

### 3. Auto-Increment Integer

**Use for**: Internal/join tables with no external exposure

```javascript
sequelize.define('Members', {
  id: {
    type: DataTypes.INTEGER,
    primaryKey: true,
    autoIncrement: true,
  },
  // ... other fields
}, {
  tableName: 'members',
});
```

**When to use**:
- Junction/join tables (Members, Permissions)
- Internal-only tables not exposed via API
- Database handles ID generation
- Performance is critical (integers are fastest)

## Decision Matrix

| Model Type | Strategy | Example |
|------------|----------|---------|
| Core domain entities | STRING(12) | Transactions, Accounts, Orgs |
| Auth models | UUID | Users, Sessions, AuthAccounts |
| Join tables | INTEGER | Members, Permissions |
| API keys | INTEGER | Api_keys |

## Related Notes
- [Column Naming](/architecture/database/column-naming.md) - Column naming conventions
- [Model Definition Pattern](/architecture/database/model-definition-pattern.md) - Complete model structure
